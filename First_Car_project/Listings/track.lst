C51 COMPILER V9.60.7.0   TRACK                                                             01/27/2023 12:05:00 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE TRACK
OBJECT MODULE PLACED IN .\Objects\track.obj
COMPILER INVOKED BY: D:\keil5\C51\BIN\C51.EXE User\track.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\User;.\Software) DEBUG OBJE
                    -CTEXTEND PRINT(.\Listings\track.lst) OBJECT(.\Objects\track.obj)

line level    source

   1          #include <REGX52.H>
   2          #include <Timer.h>
   3          #include <Move.h>
   4          
   5          /*
   6          循迹红外
   7          */
   8          sbit AL =P2^0;
   9          sbit BL =P2^1;
  10          sbit CL =P2^2;
  11          sbit DL =P2^3;
  12          sbit EL =P2^4;
  13          
  14          extern unsigned int ENA_compare;
  15          extern unsigned int ENB_compare; 
  16          extern unsigned int EN_counter;
  17          extern unsigned int compare;
  18          
  19          void Track()   //1为灭 0为亮   灭1   亮0     检测到黑线为灭1   
  20          {
  21   1              
  22   1              if(AL==1&&BL==1&&CL==1&&DL==1&&EL==1)                                                   //小车悬空      灯全灭都为11111
  23   1                      {
  24   2                              ENA_compare=75;                        //左电机初始转速
  25   2                              ENB_compare=75;                       //右电机初始转速
  26   2                              Stop_move();
  27   2                      }       
  28   1                      
  29   1                      
  30   1              if(AL==1&&BL==0&&CL==1&&DL==1&&EL==1)  //小车右边扫描到黑线（轻微偏左）  小车应该向右移动  10111
  31   1                      {
  32   2                              ENA_compare=30;                           //左电机初始转速
  33   2                              ENB_compare=15;                       //右电机初始转速
  34   2                              Go_move();
  35   2                      }
  36   1                      
  37   1              if(AL==0&&BL==1&&CL==1&&DL==1&&EL==1)  //小车右边扫描到黑线（转小圈）  小车应该向右移动  01111
  38   1                      {
  39   2                              
  40   2                              ENA_compare=25;                           //左电机初始转速
  41   2                              ENB_compare=60;                       //右电机初始转速
  42   2                              Go_move();
  43   2                              
  44   2                      }
  45   1                      
  46   1              if(AL==1&&BL==1&&CL==1&&DL==0&&EL==1)  //小车左边扫描到黑线（轻微偏右） 小车应该向左移动     11101
  47   1                      {
  48   2                              
  49   2                              ENA_compare=15;                           //左电机初始转速
  50   2                              ENB_compare=30;                       //右电机初始转速
  51   2                              Go_move();
  52   2                      }               
  53   1                      
  54   1                      if(AL==1&&BL==1&&CL==1&&DL==1&&EL==0)  //小车左边扫描到黑线（转小圈）  小车应该向左移动  11110
C51 COMPILER V9.60.7.0   TRACK                                                             01/27/2023 12:05:00 PAGE 2   

  55   1                      {
  56   2                              
  57   2                              ENA_compare=60;                           //左电机初始转速
  58   2                              ENB_compare=25;                       //右电机初始转速
  59   2                              Go_move();
  60   2                              
  61   2                      }       
  62   1                      
  63   1                      
  64   1              if(AL==1&&BL==1&&CL==0&&DL==1&&EL==1)  //小车两边都接收到红外线黑线在中间小车直行      全亮都为00100
  65   1                      {
  66   2                              
  67   2                              ENA_compare=75;                        //左电机初始转速
  68   2                              ENB_compare=75;                       //右电机初始转速
  69   2                              Go_move();                      
  70   2                      }
  71   1      }
  72          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    181    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
